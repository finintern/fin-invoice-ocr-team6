{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:38:11.280Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.295Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.299Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.308Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.311Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:38:11.315Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.317Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:44:03.241Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.251Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.255Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.260Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.263Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:44:03.267Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.269Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:45:13.231Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.242Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.245Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.252Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.255Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:45:13.261Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.262Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:46:35.243Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.253Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.258Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.265Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.268Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:46:35.273Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.275Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:48:34.830Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.841Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.846Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.853Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.858Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:48:34.863Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.865Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:49:30.352Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.360Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.364Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.370Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.373Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:49:30.377Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.379Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:11.565Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.575Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.580Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.586Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.589Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:11.597Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.598Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:42.880Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.885Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.889Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.894Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.896Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:42.901Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.903Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:54:02.524Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.537Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.539Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.543Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.545Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:54:02.552Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.553Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:56:34.035Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.051Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.054Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.061Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.064Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:56:34.067Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.068Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:58:24.984Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:24.993Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:24.996Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:25.000Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:25.002Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:58:25.005Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:25.007Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:00:33.827Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.835Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.838Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.842Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.844Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:00:33.847Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.848Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:04:40.566Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.572Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.575Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.582Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.584Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:04:40.587Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.588Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:06:19.813Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.821Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.824Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.828Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.832Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:06:19.837Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.838Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:07:50.882Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.891Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.894Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.899Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.901Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:07:50.918Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.919Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:12:33.350Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.359Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.363Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.378Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.381Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:12:33.384Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.386Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:14:32.810Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.819Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.822Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.826Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.828Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:14:32.833Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.834Z"}
