{"error":"Analysis error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Analysis error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:102:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.223Z"}
{"error":"Mapping error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Mapping error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:126:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.230Z"}
{"error":"Update error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Update error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:151:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.232Z"}
{"error":"Customer/Vendor error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Customer/Vendor error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:175:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.247Z"}
{"error":"Items error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Items error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:200:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.249Z"}
{"error":"Status update error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Status update error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:225:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.250Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-09T15:48:46.320Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.328Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.348Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.393Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.416Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-09T15:48:46.420Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.422Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:28:52.663Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.671Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.679Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.689Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.691Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:28:52.694Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.695Z"}
