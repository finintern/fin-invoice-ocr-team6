{"error":"Analysis error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Analysis error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:102:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.223Z"}
{"error":"Mapping error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Mapping error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:126:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.230Z"}
{"error":"Update error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Update error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:151:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.232Z"}
{"error":"Customer/Vendor error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Customer/Vendor error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:175:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.247Z"}
{"error":"Items error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Items error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:200:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.249Z"}
{"error":"Status update error","event":"PROCESSING_ERROR","invoiceId":"error-invoice-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Status update error\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/processInvoiceAsync.test.js:225:19)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"PROCESSING","timestamp":"2025-04-09T15:48:44.250Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-09T15:48:46.320Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.328Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.348Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.393Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.416Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-09T15:48:46.420Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-09T15:48:46.422Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:28:52.663Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.671Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.679Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.689Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.691Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:28:52.694Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:28:52.695Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:32:23.502Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:32:23.507Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:32:23.508Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:32:23.512Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:32:23.513Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:32:23.522Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:32:23.523Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:33:48.447Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:33:48.464Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:33:48.467Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:33:48.470Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:33:48.472Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:33:48.479Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:33:48.485Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:35:25.218Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:35:25.253Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:35:25.255Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:35:25.257Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:35:25.259Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:35:25.261Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:35:25.261Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:39:10.292Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:10.297Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:10.301Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:10.306Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:10.308Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:39:10.310Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:10.311Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:39:18.219Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:18.234Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:18.237Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:18.244Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:18.247Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:39:18.248Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:39:18.249Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:40:36.456Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:40:36.462Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:40:36.465Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:40:36.470Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:40:36.471Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:40:36.473Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:40:36.473Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:42:29.865Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:29.871Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:29.872Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:29.875Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:29.876Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:42:29.877Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:29.877Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:42:55.563Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:55.566Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:55.567Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:55.676Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:55.680Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:42:55.684Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:42:55.685Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:43:11.143Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:11.149Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:11.150Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:11.152Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:11.154Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:43:11.155Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:11.156Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:192:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:43:31.216Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:194:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:31.224Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:205:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:208:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:31.230Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:212:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:31.233Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:247:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:29:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:250:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:31.237Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:260:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:37:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-10T09:43:31.239Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:41:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:263:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-10T09:43:31.241Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:193:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-18T04:19:25.831Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:19:25.839Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:206:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:209:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:19:25.843Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:213:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:19:25.847Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:248:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:251:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:19:25.847Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:261:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:38:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-18T04:19:25.849Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:19:25.851Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:193:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-18T04:21:26.214Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:21:26.219Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:206:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:209:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:21:26.222Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:213:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:21:26.226Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:248:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:251:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:21:26.228Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:261:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:38:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-18T04:21:26.232Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-18T04:21:26.233Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:193:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:06:20.903Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:06:20.907Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:206:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:209:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:06:20.910Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:213:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:06:20.914Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:248:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:251:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:06:20.915Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:261:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:38:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:06:20.921Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:06:20.923Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:193:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:07:51.911Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:07:51.928Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:206:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:209:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:07:51.941Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:213:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:07:51.948Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:248:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:251:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:07:51.949Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:261:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:38:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:07:51.964Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:07:51.965Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:193:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:10:51.348Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:10:51.352Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:206:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:209:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:10:51.353Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:213:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:10:51.357Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:248:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:251:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:10:51.359Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:261:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:38:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:10:51.489Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:10:51.491Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:193:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:15:04.041Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:15:04.047Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:206:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:209:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:15:04.048Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:213:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:15:04.050Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:248:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:251:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:15:04.058Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:261:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:38:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:15:04.062Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:15:04.065Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:193:49)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:19:46.089Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:19:46.092Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:206:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:209:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:19:46.093Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:213:70)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:19:46.096Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:248:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceValidator.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:30:22)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:251:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:19:46.096Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:261:13)\n    at /Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:397:39\n    at InvoiceService.<anonymous> (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-mock/build/index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:38:31)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-19T11:19:46.098Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/src/services/invoice/invoiceService.js:42:15)\n    at Object.uploadInvoice (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/tests/services/invoice/uploadInvoice.test.js:264:33)\n    at Promise.then.completed (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/runTest.js:444:34)\n    at Object.worker (/Users/suryaputra/Downloads/fin-invoice-ocr-team6/backend/node_modules/jest-runner/build/testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-19T11:19:46.101Z"}
