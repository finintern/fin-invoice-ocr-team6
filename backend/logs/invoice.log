{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:38:11.219Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:38:11.246Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:38:11.255Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:38:11.280Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.295Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.299Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:38:11.302Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:38:11.306Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.308Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.311Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:38:11.313Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:38:11.315Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:38:11.317Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:38:13.549Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:38:13.563Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:44:03.178Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:44:03.216Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:44:03.223Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:44:03.241Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.251Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.255Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:44:03.258Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:44:03.259Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.260Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.263Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:44:03.266Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:44:03.267Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:44:03.269Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:44:05.724Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:44:05.764Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:45:13.179Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:45:13.214Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:45:13.217Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:45:13.231Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.242Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.245Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:45:13.249Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:45:13.250Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.252Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.255Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:45:13.259Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:45:13.261Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:45:13.262Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:45:14.789Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:45:14.827Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:46:35.064Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:46:35.090Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:46:35.199Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:46:35.213Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:46:35.227Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:46:35.243Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.253Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.258Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:46:35.262Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:46:35.263Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.265Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.268Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:46:35.271Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:46:35.273Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:46:35.275Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:48:34.505Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:48:34.535Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:48:34.789Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:48:34.806Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:48:34.811Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:48:34.830Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.841Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.846Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:48:34.849Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:48:34.851Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.853Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.858Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:48:34.861Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:48:34.863Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:48:34.865Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:49:28.336Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:49:28.366Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:49:30.319Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:49:30.333Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:49:30.337Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:49:30.352Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.360Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.364Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:49:30.367Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:49:30.368Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.370Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.373Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:49:30.376Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:49:30.377Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:49:30.379Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:50:10.541Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:50:10.562Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:11.509Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:50:11.537Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:11.548Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:11.565Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.575Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.580Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:11.583Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:50:11.585Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.586Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.589Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:11.592Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:11.597Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:11.598Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:42.850Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:50:42.864Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:42.868Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:42.880Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.885Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.889Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:42.891Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:50:42.892Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.894Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.896Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:50:42.899Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:50:42.901Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:50:42.903Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:50:43.733Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:50:43.747Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:54:01.775Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:54:01.788Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:54:02.495Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:54:02.500Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:54:02.505Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:54:02.524Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.537Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.539Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:54:02.541Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:54:02.542Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.543Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.545Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:54:02.551Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:54:02.552Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:54:02.553Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:56:33.178Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:56:33.189Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:56:33.998Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:56:34.014Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:56:34.018Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:56:34.035Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.051Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.054Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:56:34.058Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:56:34.059Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.061Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.064Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:56:34.066Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:56:34.067Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:56:34.068Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T03:58:24.680Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T03:58:24.690Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:58:24.938Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:58:24.963Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:58:24.967Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:58:24.984Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:24.993Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:24.996Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:58:24.998Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T03:58:24.999Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:25.000Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:25.002Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T03:58:25.004Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T03:58:25.005Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T03:58:25.007Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T04:00:33.660Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T04:00:33.674Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:00:33.778Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:00:33.808Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:00:33.812Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:00:33.827Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.835Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.838Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:00:33.840Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:00:33.841Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.842Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.844Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:00:33.846Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:00:33.847Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:00:33.848Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:04:40.539Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:04:40.550Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:04:40.553Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:04:40.566Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.572Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.575Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:04:40.580Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:04:40.581Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.582Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.584Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:04:40.586Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:04:40.587Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:04:40.588Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T04:04:40.959Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T04:04:40.985Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T04:06:19.224Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T04:06:19.237Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:06:19.793Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:06:19.797Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:06:19.800Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:06:19.813Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.821Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.824Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:06:19.826Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:06:19.827Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.828Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.832Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:06:19.835Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:06:19.837Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:06:19.838Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T04:07:50.630Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T04:07:50.638Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:07:50.844Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:07:50.864Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:07:50.868Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:07:50.882Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.891Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.894Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:07:50.897Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:07:50.898Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.899Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.901Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:07:50.907Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:07:50.918Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:07:50.919Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T04:12:32.936Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T04:12:32.946Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:12:33.310Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:12:33.331Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:12:33.333Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:12:33.350Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.359Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.363Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:12:33.366Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:12:33.376Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.378Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.381Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:12:33.383Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:12:33.384Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:12:33.386Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"partner-123","service":"invoice-service","timestamp":"2025-04-21T04:14:32.404Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://example.com/test.pdf","service":"invoice-service","timestamp":"2025-04-21T04:14:32.414Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:14:32.782Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:14:32.796Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:14:32.799Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:193:49)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:14:32.810Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:195:5)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.819Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:206:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:209:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.822Z"}
{"event":"UPLOAD_START","filename":"test-invoice.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:14:32.824Z"}
{"event":"UPLOAD_SUCCESS","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice uploaded to S3","s3Url":"https://s3.amazonaws.com/test-bucket/test-file.pdf","service":"invoice-service","timestamp":"2025-04-21T04:14:32.825Z"}
{"error":"Failed to save invoice to database","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to save invoice to database\n    at Object.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:213:70)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.826Z"}
{"error":"Partner ID is required","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Partner ID is required\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:248:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceValidator.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceValidator.mockConstructor [as validateFileData] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.validateFileData [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:30:22)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:251:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.828Z"}
{"event":"UPLOAD_START","filename":"test.pdf","invoiceId":"mocked-uuid-123","level":"info","message":"Invoice upload initiated","partnerId":"123","service":"invoice-service","timestamp":"2025-04-21T04:14:32.831Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":"mocked-uuid-123","level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:261:13)\n    at E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:397:39\n    at InvoiceService.<anonymous> (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:404:13)\n    at InvoiceService.mockConstructor [as uploadFile] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-mock\\build\\index.js:148:19)\n    at InvoiceService.uploadFile [as uploadInvoice] (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:38:31)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"S3_UPLOAD","timestamp":"2025-04-21T04:14:32.833Z"}
{"error":"Failed to upload file to S3","event":"PROCESSING_ERROR","invoiceId":null,"level":"error","message":"Error during invoice processing","service":"invoice-service","stack":"Error: Failed to upload file to S3\n    at InvoiceService.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\src\\services\\invoice\\invoiceService.js:42:15)\n    at Object.uploadInvoice (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\tests\\services\\invoice\\uploadInvoice.test.js:264:33)\n    at Promise.then.completed (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (E:\\Kuliah\\sem6\\PPL\\fin-invoice-ocr-team6\\backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)","stage":"UPLOAD_INITIATION","timestamp":"2025-04-21T04:14:32.834Z"}
